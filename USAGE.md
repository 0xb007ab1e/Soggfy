# Usage
Notes and comments on some features, installation and usage can be found in [README](/README.md).

## Playback Speed
This feature allows faster downloads by forcing the player to decode audio quicker, it does not generate files of lower quality. The slider is limited to 20x by default, but any value can be set in the textbox on the left side.  
Notes (may be outdated):
- Speed >= ~30x will cause the player to stutter and silently spam requests to a Spotify API, which could increase the chances of your account getting banned or rate limited.
- Speed >= ~200x will saturate CPU (use 100% of a core or more). This could increase the chance of crashes or unexpected behavior.
Stuttering may happen just after changing the value, but it generally stops on the next song. There also seems to be a memory leak related to it, but it goes away after some time. (?)

## High quality AAC
FFmpeg's native AAC encoder is known to generate poor quality files[^1][^2], and mainstream builds don't include the higher quality encoder _libfdk_aac_ due to patent licensing issues. Because PowerShell doesn't support extracting 7z, this action must be performed manually by the user.

1. Build _or_ download ffmpeg with libfdk:
    - https://github.com/AnimMouse/ffmpeg-autobuild/releases
    - https://github.com/marierose147/ffmpeg_windows_exe_with_fdk_aac/releases

2. Extract `ffmpeg.exe` into a newly created `ffmpeg` folder on the `Soggfy` directory (such that the final directory structure looks like `Soggfy/ffmpeg/ffmpeg.exe`).

3. Launch Soggfy, select `Custom` in the output format option, and paste these values:
    - Arguments: `-c:a libfdk_aac -b:a 256k -disposition:v attached_pic -c:v copy`
    - Extension: either `m4a` or `mp4`.

_You may change `-b:a 256k` to your preferred bitrate, and/or use different parameters[^2]._

Note that some iPods may have issues playing AAC files generated by ffmpeg (https://trac.ffmpeg.org/ticket/7747).

# Links
[^1]: https://trac.ffmpeg.org/wiki/Encode/HighQualityAudio
[^2]: https://trac.ffmpeg.org/wiki/Encode/AAC